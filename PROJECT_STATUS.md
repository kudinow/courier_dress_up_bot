# Yandex.Eda Courier Bot ‚Äî –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 23 —è–Ω–≤–∞—Ä—è 2026, 19:20
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Telegram-–±–æ—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ç–æ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ñ–æ—Ä–º–µ –∫—É—Ä—å–µ—Ä–∞ –Ø–Ω–¥–µ–∫—Å.–ï–¥—ã. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AI –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π, –¥–æ–±–∞–≤–ª—è—è —Ñ–∏—Ä–º–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É –∫—É—Ä—å–µ—Ä–∞ —Å —É—á–µ—Ç–æ–º –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Ç–∏–ø –∫—É—Ä—å–µ—Ä–∞ –∏ —Å—Ü–µ–Ω–∞).

**Telegram Bot**: `@Courierdressupbot` (ID: 8512114028)

---

## ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∫—É—Ä—å–µ—Ä–∞
- üö∂ **–ü–µ—à–∏–π –∫—É—Ä—å–µ—Ä**: —Å —Ç–µ—Ä–º–æ—Å—É–º–∫–æ–π –Ω–∞ –ø–ª–µ—á–µ –∏–ª–∏ —Ä—é–∫–∑–∞–∫–æ–º
- üö¥ **–ö—É—Ä—å–µ—Ä –Ω–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–µ**: —Å –≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–º, —à–ª–µ–º–æ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2. –í—ã–±–æ—Ä —Å—Ü–µ–Ω—ã
- üì¶ **–ó–∞–±–∏—Ä–∞–µ—Ç –∑–∞–∫–∞–∑**: —É –≤—Ö–æ–¥–∞ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω
- üöö **–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑**: –Ω–∞ —É–ª–∏—Ü–µ, —É –ø–æ–¥—ä–µ–∑–¥–∞
- ü§ù **–í—Ä—É—á–∞–µ—Ç –∑–∞–∫–∞–∑**: –ø–µ—Ä–µ–¥–∞–µ—Ç –ø–∞–∫–µ—Ç –∫–ª–∏–µ–Ω—Ç—É

### 3. User Flow
```
/start
  ‚Üí –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–∏–º–∏—Ç–∞—Ö
  ‚Üí –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∫—É—Ä—å–µ—Ä–∞ (üö∂ –ü–µ—à–∏–π / üö¥ –í–µ–ª–æ—Å–∏–ø–µ–¥)
  ‚Üí –í—ã–±–æ—Ä —Å—Ü–µ–Ω—ã (üì¶ –ó–∞–±–∏—Ä–∞–µ—Ç / üöö –î–æ—Å—Ç–∞–≤–ª—è–µ—Ç / ü§ù –í—Ä—É—á–∞–µ—Ç)
  ‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ
  ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (~35-70 —Å–µ–∫)
  ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç + –∫–Ω–æ–ø–∫–∏:
     - üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ
     - ‚ú® –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ
```

### 4. –°–∏—Å—Ç–µ–º–∞ –ª–∏–º–∏—Ç–æ–≤
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: 3 –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ê–¥–º–∏–Ω** (ID: 91892537): –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- –°—á–µ—Ç—á–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `user_generations.json`

### 5. –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–æ—Ç–æ
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ç–∏–ø –∫—É—Ä—å–µ—Ä–∞, —Å—Ü–µ–Ω–∞)
- GPT –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
bot/
‚îú‚îÄ‚îÄ main.py                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config.py                   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏, PROMPT_SYSTEM, PROMPT_CRITICAL_SUFFIX
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ start.py               # /start, –≤—ã–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ photo.py               # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ openai_client.py       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ (GPT-5.2)
‚îÇ   ‚îú‚îÄ‚îÄ kie_client.py          # –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ñ–æ—Ç–æ (nano-banana-edit)
‚îÇ   ‚îî‚îÄ‚îÄ user_limits.py         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞–º–∏
‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îî‚îÄ‚îÄ inline.py              # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (—Ç–∏–ø –∫—É—Ä—å–µ—Ä–∞, —Å—Ü–µ–Ω–∞, —Ä–µ—Å—Ç–∞—Ä—Ç)
‚îú‚îÄ‚îÄ states/
‚îÇ   ‚îî‚îÄ‚îÄ generation.py          # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ timing.py              # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∑–∞–º–µ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏
```

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Framework**: aiogram 3.13.1
- **Prompt Generation**: OpenRouter API ‚Üí GPT-5.2
- **Image Transformation**: kie.ai API ‚Üí nano-banana-edit
- **FSM Storage**: MemoryStorage (in-memory)
- **User Data**: JSON file
- **Python**: 3.9+

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç (23.01.2026, 19:16)

**–£—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** (bicycle courier, delivery scene, user 91892537):

| –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è | –î–µ—Ç–∞–ª–∏ |
|----------|-------|--------|
| GPT Prompt Generation | 3.95s | OpenRouter ‚Üí GPT-5.2 |
| KIE Task Creation | 4.95s | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ |
| KIE Processing | 23.46s | 7 polls, –æ–±—Ä–∞–±–æ—Ç–∫–∞ |
| Image Download | 1.48s | 591.5 KB |
| **TOTAL** | **35.36s** | ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |

### –ù–æ—Ä–º–∞—Ç–∏–≤—ã
- **–ù–æ—Ä–º–∞**: 35-70s –æ–±—â–µ–µ –≤—Ä–µ–º—è
- **–ü—Ä–∏–µ–º–ª–µ–º–æ**: 70-100s
- **–î–æ–ª–≥–æ**: >100s

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### API –∫–ª—é—á–∏ (.env)
```env
# –°–º. .env.example –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env.example –≤ .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏
```

### –ü—Ä–æ–º–ø—Ç—ã

#### PROMPT_SYSTEM
–î–µ—Ç–∞–ª—å–Ω—ã–µ –≥–∞–π–¥–ª–∞–π–Ω—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫—É—Ä—å–µ—Ä–æ–≤ –Ø–Ω–¥–µ–∫—Å.–ï–¥—ã:
- –°—Ç–∏–ª—å, –æ—Å–≤–µ—â–µ–Ω–∏–µ, –∫–æ–º–ø–æ–∑–∏—Ü–∏—è
- –¢–∏–ø—ã –∫—É—Ä—å–µ—Ä–æ–≤ (walking/bicycle)
- –°—Ü–µ–Ω—ã (pickup/delivery/handover)
- –≠–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã (—á–µ—Ä–Ω–∞—è –∫—É—Ä—Ç–∫–∞, –∂–µ–ª—Ç—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã Yandex.Eda)
- 7 –ø—Ä–∏–º–µ—Ä–æ–≤ –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–∑–∏—Ü–∏–π

#### PROMPT_CRITICAL_SUFFIX
–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–æ—Å—Ç–∏:
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä—Ç –ª–∏—Ü–∞, —Ü–≤–µ—Ç–∞ –≥–ª–∞–∑, –≤–æ–ª–æ—Å
- –ó–∞–ø—Ä–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–µ—Å–∫–∏
- –ó–∞–ø—Ä–µ—Ç –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤ (–∫—Ä–æ–º–µ —Å–µ—Ä–µ–≥ –¥–ª—è –∂–µ–Ω—â–∏–Ω)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π (—Ç–µ–∫—Å—Ç—É—Ä–∞ –∫–æ–∂–∏, –º–æ—Ä—â–∏–Ω—ã)

---

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞:

```log
üöÄ [GENERATION] Starting for user 91892537: type=bicycle, scene=delivery
‚è±Ô∏è  [GPT] Generating courier prompt, attempt 1/3
‚úÖ [GPT] Generated prompt in 3.95s: Professional portrait photograph of...
‚è±Ô∏è  [KIE] Creating task...
‚úÖ [KIE] Task created: 9e4d6dc0-3e15... in 4.95s
‚è±Ô∏è  [KIE] Waiting for task 9e4d6dc0-3e15...
üîÑ [KIE] Poll #1: state=waiting, elapsed=0s
üîÑ [KIE] Poll #2: state=waiting, elapsed=3s
...
üîÑ [KIE] Poll #7: state=success, elapsed=18s
‚úÖ [KIE] Task completed in 23.46s (7 polls)
‚è±Ô∏è  [KIE] Downloading result image...
‚úÖ [KIE] Downloaded 591.5KB in 1.48s
‚úÖ [GENERATION] COMPLETE for user 91892537 in 35.36s
```

### –ú–∞—Ä–∫–µ—Ä—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- `üöÄ [GENERATION]` - –Ω–∞—á–∞–ª–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `üîÑ [REGENERATE]` - —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- `‚è±Ô∏è  [GPT]` - –æ–ø–µ—Ä–∞—Ü–∏–∏ GPT
- `‚è±Ô∏è  [KIE]` - –æ–ø–µ—Ä–∞—Ü–∏–∏ kie.ai
- `‚úÖ` - —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- `‚ùå` - –æ—à–∏–±–∫–∞

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ**: –°–º. [LOGGING.md](LOGGING.md)

---

## üöÄ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
cd "/Users/kudinow/Yandex.Disk.localized/Cursor/2. In Progress/–°—Ç–∞—Ç—å –∫—É—Ä—å–µ—Ä–æ–º"
./run.sh

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞–ø—Ä—è–º—É—é
python3 -m bot.main

# –í–∞—Ä–∏–∞–Ω—Ç 3: –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ª–æ–≥–æ–≤
python3 -m bot.main 2>&1 | tee bot.log
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```bash
tail -f bot.log

# –ò–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
tail -f bot.log | grep GENERATION
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep "bot.main"

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
kill <PID>
```

---

## üìÅ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### user_generations.json
```json
{
  "91892537": {
    "generations": 2,
    "last_photo_url": "https://api.telegram.org/file/bot.../photo.jpg",
    "last_courier_type": "bicycle",
    "last_scene": "delivery"
  }
}
```

**–ü–æ–ª—è**:
- `generations`: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- `last_photo_url`: URL —Ñ–æ—Ç–æ –¥–ª—è —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `last_courier_type`: walking/bicycle
- `last_scene`: pickup/delivery/handover

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏—Ü (PROMPT_CRITICAL_SUFFIX)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —á–µ—Ä—Ç –ª–∏—Ü–∞
- ‚úÖ –ù–µ–∏–∑–º–µ–Ω–Ω–æ—Å—Ç—å —Ü–≤–µ—Ç–∞ –≥–ª–∞–∑ –∏ –≤–æ–ª–æ—Å
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–µ—Å–∫–∏
- ‚ùå –ó–∞–ø—Ä–µ—Ç –Ω–∞ beautification
- ‚ùå –ó–∞–ø—Ä–µ—Ç –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤

### API –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- API –∫–ª—é—á–∏ –≤ `.env` (–Ω–µ –≤ git)
- HTTPS –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ API

---

## üìù Changelog

### 23 —è–Ω–≤–∞—Ä—è 2026
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∫—É—Ä—å–µ—Ä–∞ (–ø–µ—à–∏–π/–≤–µ–ª–æ—Å–∏–ø–µ–¥)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä —Å—Ü–µ–Ω—ã (–∑–∞–±–∏—Ä–∞–µ—Ç/–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç/–≤—Ä—É—á–∞–µ—Ç)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã (PROMPT_SYSTEM)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω [LOGGING.md](LOGGING.md)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã API –∫–ª—é—á–∏
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ production

### –†–∞–Ω–µ–µ (16 —è–Ω–≤–∞—Ä—è)
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ –∫—É—Ä—å–µ—Ä–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ª–∏–º–∏—Ç–æ–≤ (3 –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
- ‚úÖ –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenRouter + kie.ai

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–õ–∏–º–∏—Ç—ã**: 3 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
2. **Timeout**: 300s –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ KIE
3. **Storage**: FSM –≤ –ø–∞–º—è—Ç–∏ (—Å–±—Ä–æ—Å –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ)
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: JSON —Ñ–∞–π–ª –¥–ª—è –¥–∞–Ω–Ω—ã—Ö

---

## üîÆ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ
- [ ] Webhook –≤–º–µ—Å—Ç–æ polling
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Redis (FSM + user data)
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ (Prometheus/Grafana)
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ
- [ ] –î—Ä—É–≥–∏–µ —Å–ª—É–∂–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ HD
- [ ] –ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

---

## ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –í–µ—Ä—Å–∏—è/–ú–æ–¥–µ–ª—å |
|-----------|--------|---------------|
| Telegram Bot | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | aiogram 3.13.1 |
| OpenRouter API | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | GPT-5.2 |
| kie.ai API | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | nano-banana-edit |
| User Limits | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Local JSON |
| Logging | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Python logging |
| FSM | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | MemoryStorage |

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**Telegram Bot**: @Courierdressupbot
**Admin ID**: 91892537

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [PROJECT_STATUS.md](PROJECT_STATUS.md) - —ç—Ç–æ—Ç —Ñ–∞–π–ª
- [LOGGING.md](LOGGING.md) - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [PROJECT_SPEC.md](PROJECT_SPEC.md) - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
- [UPDATE_DEPLOY.md](UPDATE_DEPLOY.md) - –∏—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

---

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

*–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ç–µ—Å—Ç: 23.01.2026 19:16 - —É—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞ 35.36s*
